# Southwest Airlines Delays and Cancellations
## Executive Summary
The airline industry is amongst the most competitive and difficult industries to thrive. For this reason characteristics related to service are determining factors on customers airline preferences. Given the low commercial flying activity resulting from the Covid-19 pandemic, Southwest Airlines has suffered losses for the past 12 months. However, the Federal Aviation Administration forecasts a double figure uptick in demand in the coming years. This period will be essential for Southwest Airlines to bounce back, to do so cancellations and delays must be minimised or at least mitigated. The research conducted analyses data from 2008 and finds that by implementing a predictive model to forecast delays yields a potential saving of $14 million USD. Moreover, changes to the departure airport in Philadelphia and to the arrival airport in Las Vegas can see a decrease in the number of flights delayed. Furthermore, the airline can protect its image by warning customers in advance of higher probabilities of delays during the month of December as well as with long haul flights. Collectively, these actions will improve Southwest Airlines operations and provide better service to its customers enabling to thrive in the post-covid era.


## Problem 
Air passengers in 2021 have a multitude of options to select as their carrier of choice. This trend shows no signs of slowing as U.S. carrier domestic passenger growth is forecasted to grow 4.9% a year for the next 20 years with double figure growth in the short term due to pinned up demand because of Covid-19 (FAA, 2021). Therefore, the period following travel restrictions will be key to becoming the preferred airline amongst American passengers. Once the period of high demand and competitiveness seizes, companies will be able to yield their gains in terms of profitability and growth. In the case of Southwest airlines, it will be essential to perform in the short term as it aims to recover from negative profit margins since September 2020 (Macrotrends.net, 2021). For this reason, we try to enhance their delay and cancellation forecasting by training a model using 2008 data, to serve as a starting point for future 2022 predictions. As well as provide actionable insight to improve operations and profitability. Caveats in data collection are also analysed with the aim of improving future forecasting models.


## Models used for prediction on delay time
To construct a model to predict the amount of time a flight was delayed several models were tested using the training data. These can be split into three types: linear regression models, non-linear regression models, and a regression tree. Due to the high dimensionality of the data, understanding which predictor would minimise the root mean square error prior to modelling was infeasible. Hence, a Principal Components Regression, a Lasso regression, and a Ridge Regression were run. Moreover, to reduce covariance, the Lasso and Ridge Regressions were also run using the first 50 principal components. In addition, a Random Forest Regression and a simple neural network were modelled.
The three linear regression models were selected for the same reasons, given the high dimensionality of the dataset the Lasso and Ridge regressions can perform feature selection and allocate feature importance during the training of the model, respectively. Following this same line of thinking the Principal Component Regression was utilised as it can select a subset of principle components to perform the regressions on. However, an important caveat to mention is that whilst principal component analysis can be run on dummy variables due to the lack of variance in these variables, it does not have the same prediction capabilities as when applied to majority numerical datasets. An alternative analysis that could be performed to improve future iterations of the model is Multinomial Principal Component Analysis which is able to better perform with dummy variables (Advances in Knowledge Discovery and Data Mining, 2005). 

The selection of the Random Forest as a predictor was iterative as a simple decision tree was initially used for prediction to assess the performance of tree-based models. Given that predictions were reasonable compared to the linear models, the next step was to use models which employ ensemble as they would improve on the obtained result. Hence, the Random Forest model was employed. For completion a Neural Network was trained to determine if a non-linear model would be able to provide improved predictions.


## Models used for classification of delays and cancellations
In the case of classification of delays and cancellations a linear classification model was employed alongside two classification tree models. These were Logistic regression, Random Forest, and AdaBoost. It’s important to note that to train the models on prediction cancellations, the training sets were balanced by implementing under sampling. To avoid any loss of data tree-based model were implemented given their robustness to outliers which enabled the models to run without removing any observations, unlike in the regression models. Moreover, AdaBoost was added as an alternative to the bagging technique used in the Random Forest Classifier, in favour of running weak models sequentially rather than in parallel and independently. The logistic regression was favoured due to its fast computational time and ability to suit linearly separable features. 


## Results, Analysis, Recommendations
The results to testing the regression models on delay predictions can be found in Figure 1. From the results we can see that the OLS Regression, Ridge Regression, and Neural Network were able to predict the time a Southwest airline flight would be delayed on average with an average distance to the actual value of 21.7 minutes. The model, however, is limited in scope in that it will only be able to have reasonable predictions that lie within the range of the data from flights that are up to 45 minutes early to 89 minutes late. This is due to the elimination of outliers; however, the performance of the models without outliers significantly outperformed those with outliers which had an average RMSE of 41 minutes.


![Webp net-resizeimage (1)](https://user-images.githubusercontent.com/67346082/165615401-525dc13e-926a-4b82-9be0-c4338bfe1286.png)

*Figure 1*


The initial Ridge model was run without hyper parameter tuning, given its performance was close to OLS, model tuning cross validation was performed to select the best hyperparameters to achieve the lowest RMSE. Given the models with high performance were parametric, we can extract important insights. After analysing the OLS regression results, we find that the fleet number has a positive effect on the amount of time a flight is delayed, as newer aircrafts are more likely to be delayed. This result is expected as older aircraft are retired to shorter routes and newer aircraft are allocated longer routes with a higher probability of flights being delayed. 

Whilst the predictive power of the best model, Ridge Regression and OLS, is low it can be a useful tool for the company provided they are predicting delays solely based on expert insight. The model can provide a higher degree of certainty at the time decision makers are taking preventative measure to prepare for delays. 


![Webp net-resizeimage (2)](https://user-images.githubusercontent.com/67346082/165616500-69b3220b-d85d-47bd-b710-893b5305bf19.png)

*Figure 2*


If we look at the results from the classification models in Figure 2, we can extract additional information. When we perform classification analysis, we do so by using the standard training set and by using a training set which has been over and under sampled. The purpose was to improve the predictive capabilities of the trained model when classifying delays. However, predictive power decreased in terms of recall measure, which is our scoring parameter of interest. This parameter is selected as most flights are expected to arrive on time; however, a small subset of flights will not. The idea is to bring potential delays to the attention of an individual in the control centre for them to decide based on real-time data and their expertise whether to take a prediction as likely to be true or false. The second-best classifier, Adaboost, had its parameters tuned to further improve performance. From the flights it predicted as delays, it was correct 67.42% of the time. However, it’s overall performance predicting whether a flight was delayed or not only had an accuracy of 58.91%. Whilst the accuracy was lower than other models which showcased accuracies of 60%. The hyperparameter tuning was done to maximise recall. This was done since it is more important to catch a delay than to predict whether a flight will or will not be delayed. This is given the low frequency delays happen and the fact that this model alone will not suffice to make an accurate prediction; however, if the possible delays are narrowed down for control centre, then they will be empowered with the data to make more accurate decisions based on more than just their experience.

An investigation into the relevant features as per the AdaBoost model shows that the model prioritises the expected elapsed time, distance, fleet number, if the flight took place in December, if the origin airport is PHL and if the arrival airport was LAS as shown in Figure 3.  Given PHL airport and LAS airport are amongst the most important features for determining a delay we suggest rallying for investment in airport infrastructure or choose alternate ports of origin in Philadelphia and destination in Las Vegas. Moreover, further research on flight departing in the early afternoon is advised; in the meantime, implementing additional buffer time for flight departing during these hours could help relief delays. Lastly, we see that flights in December are more likely to be delayed, this is an expected occurrence given the holidays and the increased number of air travellers due to them. To best mitigate holiday related delays, a simple warning message to passengers booking flights during December can serve to set expectations following bookings made during this month. 


![Webp net-resizeimage (4)](https://user-images.githubusercontent.com/67346082/165617230-387e5cfc-aed5-4046-9356-c679f83e1a22.png)

*Figure 3*


A cost benefit analysis can be derived from the confusion matrix of the AdaBoost classification model. Assuming a direct cost per minute of $74 USD for a delayed flight and an average delay time of 15 minutes (G.E, 2021). As well as assuming that no expert knowledge is employed when assessing delayed flights such that those that are misclassified as false negative will end up being delayed and those that are classified as false positives incur partial costs - sunk costs - from preventative actions taken 24 hours in advance. We calculate that implementing this model would lead to approximately $14,950,313 in savings for the airline as 39,590 flights which are delayed can be given priority to avoid said delays and save approximately $1,110 per flight. This estimate is conservative given that it disregards professional insight from decision makers who would be able to improve the classifications and lead to greater savings. Moreover, it also disregards indirect costs and benefits which likely surpass those mentioned in Table 1.


<img width="698" alt="Screenshot 2022-04-27 at 20 39 39" src="https://user-images.githubusercontent.com/67346082/165611801-9088d064-f938-4443-aeb3-06ac153033c8.png">

*Table 1*


Cancelled flights was investigated but the airline only had 15 cancelled flights recorded therefore the models employed were unable to accurately classify these as it would classify all flights as not cancelled given the disparity. Under sampling was performed on the training set however no cancelled flights would be accurately classified and performance dropped relative to when the training set was unchanged. Therefore, we do not include this in the code. To improve predictions on whether a flight will be cancelled or not we suggest several steps be implemented in the data gathering process. First, additional features such as expected weather at origin and destination should be collected to predict delays and cancellations more accurately. This data will serve to draw a relationship between delays and the weather prior to a flight taking place. In addition, an index on the backlog of planes at the origin airport and at destination will serve to determine whether a flight will spend additional time waiting to taxi in to and out of the gate which can contribute to delays. 


## Conclusion
In conclusion, practices for recognising if a flight will be delayed or cancelled can lead to significant competitive advantages in the commercial flights industry. Whilst models themselves are unable to provide a precise model to predict these interruptions 24-hours in advance, they can provide insight regarding the reasons why a delay might occur as well as serve as an additional input, supplementing decision makers’ experience, when determining which flights to monitor given their likelihood of being delayed or cancelled. Furthermore, in the case of Southwest Airlines the predictive models have provided useful insight into how the company can improve their operations to maximise customer satisfaction. From making passengers aware of higher likelihood of delays during December, discouraging business travel between 1pm – 3pm given the higher likelihood of delays, and implementing a short buffer on scheduled flights of longer durations given their higher likelihood of being delayed, particularly those leaving from Philadelphia International Airport (PHL) and McCarran International Airport (LAS). Collectively these actions can lead to higher customer satisfactions and improved profitability.

